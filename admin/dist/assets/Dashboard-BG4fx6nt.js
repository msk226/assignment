import{g as q,r as U,u as K,a,b as Q,c as H,C as de,d as ue,e as fe,_ as G,f as me,h as pe,i as ge,j as ve,k as ye,m as xe,l as he,w as W,n as Se,I as Y,o as J,p as f,R as be,q as $e}from"./index-DXWxSTAO.js";import{p as Z,R as Ce,a as je,b as Ee,c as Ie,d as we,u as Oe,S as Ne,e as Re}from"./endpoints-RSZ8SDw3.js";import{S as ze,R as Pe,C as z}from"./row-C-MIALBr.js";import{C as P}from"./index-Bh7mr466.js";const T=(e,t,o,n,r)=>({background:e,border:`${K(n.lineWidth)} ${n.lineType} ${t}`,[`${r}-icon`]:{color:o}}),Te=e=>{const{componentCls:t,motionDurationSlow:o,marginXS:n,marginSM:r,fontSize:s,fontSizeLG:l,lineHeight:i,borderRadiusLG:c,motionEaseInOutCirc:d,withDescriptionIconSize:v,colorText:g,colorTextHeading:p,withDescriptionPadding:m,defaultPadding:u}=e;return{[t]:Object.assign(Object.assign({},U(e)),{position:"relative",display:"flex",alignItems:"center",padding:u,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:i},"&-message":{color:p},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${d}, opacity ${o} ${d},
        padding-top ${o} ${d}, padding-bottom ${o} ${d},
        margin-bottom ${o} ${d}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:m,[`${t}-icon`]:{marginInlineEnd:r,fontSize:v,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:n,color:p,fontSize:l},[`${t}-description`]:{display:"block",color:g}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},He=e=>{const{componentCls:t,colorSuccess:o,colorSuccessBorder:n,colorSuccessBg:r,colorWarning:s,colorWarningBorder:l,colorWarningBg:i,colorError:c,colorErrorBorder:d,colorErrorBg:v,colorInfo:g,colorInfoBorder:p,colorInfoBg:m}=e;return{[t]:{"&-success":T(r,n,o,e,t),"&-info":T(m,p,g,e,t),"&-warning":T(i,l,s,e,t),"&-error":Object.assign(Object.assign({},T(v,d,c,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Me=e=>{const{componentCls:t,iconCls:o,motionDurationMid:n,marginXS:r,fontSizeIcon:s,colorIcon:l,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:r},[`${t}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:s,lineHeight:K(s),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:l,transition:`color ${n}`,"&:hover":{color:i}}},"&-close-text":{color:l,transition:`color ${n}`,"&:hover":{color:i}}}}},Be=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),De=q("Alert",e=>[Te(e),He(e),Me(e)],Be);var X=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const _e={success:Ie,info:Ee,error:je,warning:Ce},ke=e=>{const{icon:t,prefixCls:o,type:n}=e,r=_e[n]||null;return t?fe(t,a.createElement("span",{className:`${o}-icon`},t),()=>({className:H(`${o}-icon`,t.props.className)})):a.createElement(r,{className:`${o}-icon`})},Le=e=>{const{isClosable:t,prefixCls:o,closeIcon:n,handleClose:r,ariaProps:s}=e,l=n===!0||n===void 0?a.createElement(we,null):n;return t?a.createElement("button",Object.assign({type:"button",onClick:r,className:`${o}-close-icon`,tabIndex:0},s),l):null},ee=a.forwardRef((e,t)=>{const{description:o,prefixCls:n,message:r,banner:s,className:l,rootClassName:i,style:c,onMouseEnter:d,onMouseLeave:v,onClick:g,afterClose:p,showIcon:m,closable:u,closeText:x,closeIcon:b,action:E,id:M}=e,B=X(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[I,D]=a.useState(!1),w=a.useRef(null);a.useImperativeHandle(t,()=>({nativeElement:w.current}));const{getPrefixCls:_,direction:h,closable:S,closeIcon:O,className:k,style:N}=Q("alert"),y=_("alert",n),[R,L,oe]=De(y),re=$=>{var j;D(!0),(j=e.onClose)===null||j===void 0||j.call(e,$)},F=a.useMemo(()=>e.type!==void 0?e.type:s?"warning":"info",[e.type,s]),ae=a.useMemo(()=>typeof u=="object"&&u.closeIcon||x?!0:typeof u=="boolean"?u:b!==!1&&b!==null&&b!==void 0?!0:!!S,[x,b,u,S]),V=s&&m===void 0?!0:m,se=H(y,`${y}-${F}`,{[`${y}-with-description`]:!!o,[`${y}-no-icon`]:!V,[`${y}-banner`]:!!s,[`${y}-rtl`]:h==="rtl"},k,l,i,oe,L),ie=Z(B,{aria:!0,data:!0}),ce=a.useMemo(()=>typeof u=="object"&&u.closeIcon?u.closeIcon:x||(b!==void 0?b:typeof S=="object"&&S.closeIcon?S.closeIcon:O),[b,u,S,x,O]),le=a.useMemo(()=>{const $=u??S;if(typeof $=="object"){const{closeIcon:j}=$;return X($,["closeIcon"])}return{}},[u,S]);return R(a.createElement(de,{visible:!I,motionName:`${y}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:$=>({maxHeight:$.offsetHeight}),onLeaveEnd:p},({className:$,style:j},A)=>a.createElement("div",Object.assign({id:M,ref:ue(w,A),"data-show":!I,className:H(se,$),style:Object.assign(Object.assign(Object.assign({},N),c),j),onMouseEnter:d,onMouseLeave:v,onClick:g,role:"alert"},ie),V?a.createElement(ke,{description:o,icon:e.icon,prefixCls:y,type:F}):null,a.createElement("div",{className:`${y}-content`},r?a.createElement("div",{className:`${y}-message`},r):null,o?a.createElement("div",{className:`${y}-description`},o):null),E?a.createElement("div",{className:`${y}-action`},E):null,a.createElement(Le,{isClosable:ae,prefixCls:y,closeIcon:ce,handleClose:re,ariaProps:le}))))});function Fe(e,t,o){return t=G(t),me(e,pe()?Reflect.construct(t,o||[],G(e).constructor):t.apply(e,o))}let Ve=(function(e){function t(){var o;return ye(this,t),o=Fe(this,t,arguments),o.state={error:void 0,info:{componentStack:""}},o}return ge(t,e),ve(t,[{key:"componentDidCatch",value:function(n,r){this.setState({error:n,info:r})}},{key:"render",value:function(){const{message:n,description:r,id:s,children:l}=this.props,{error:i,info:c}=this.state,d=(c==null?void 0:c.componentStack)||null,v=typeof n>"u"?(i||"").toString():n,g=typeof r>"u"?d:r;return i?a.createElement(ee,{id:s,type:"error",message:v,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},g)}):l}}])})(a.Component);const te=ee;te.ErrorBoundary=Ve;const Ae=e=>{const{value:t,formatter:o,precision:n,decimalSeparator:r,groupSeparator:s="",prefixCls:l}=e;let i;if(typeof o=="function")i=o(t);else{const c=String(t),d=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!d||c==="-")i=c;else{const v=d[1];let g=d[2]||"0",p=d[4]||"";g=g.replace(/\B(?=(\d{3})+(?!\d))/g,s),typeof n=="number"&&(p=p.padEnd(n,"0").slice(0,n>0?n:0)),p&&(p=`${r}${p}`),i=[a.createElement("span",{key:"int",className:`${l}-content-value-int`},v,g),p&&a.createElement("span",{key:"decimal",className:`${l}-content-value-decimal`},p)]}}return a.createElement("span",{className:`${l}-content-value`},i)},Ge=e=>{const{componentCls:t,marginXXS:o,padding:n,colorTextDescription:r,titleFontSize:s,colorTextHeading:l,contentFontSize:i,fontFamily:c}=e;return{[t]:Object.assign(Object.assign({},U(e)),{[`${t}-title`]:{marginBottom:o,color:r,fontSize:s},[`${t}-skeleton`]:{paddingTop:n},[`${t}-content`]:{color:l,fontSize:i,fontFamily:c,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:o},[`${t}-content-suffix`]:{marginInlineStart:o}}})}},We=e=>{const{fontSizeHeading3:t,fontSize:o}=e;return{titleFontSize:o,contentFontSize:t}},Xe=q("Statistic",e=>{const t=xe(e,{});return Ge(t)},We);var qe=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const C=a.forwardRef((e,t)=>{const{prefixCls:o,className:n,rootClassName:r,style:s,valueStyle:l,value:i=0,title:c,valueRender:d,prefix:v,suffix:g,loading:p=!1,formatter:m,precision:u,decimalSeparator:x=".",groupSeparator:b=",",onMouseEnter:E,onMouseLeave:M}=e,B=qe(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:I,direction:D,className:w,style:_}=Q("statistic"),h=I("statistic",o),[S,O,k]=Xe(h),N=a.createElement(Ae,{decimalSeparator:x,groupSeparator:b,prefixCls:h,formatter:m,precision:u,value:i}),y=H(h,{[`${h}-rtl`]:D==="rtl"},w,n,r,O,k),R=a.useRef(null);a.useImperativeHandle(t,()=>({nativeElement:R.current}));const L=Z(B,{aria:!0,data:!0});return S(a.createElement("div",Object.assign({},L,{ref:R,className:y,style:Object.assign(Object.assign({},_),s),onMouseEnter:E,onMouseLeave:M}),c&&a.createElement("div",{className:`${h}-title`},c),a.createElement(ze,{paragraph:!1,loading:p,className:`${h}-skeleton`,active:!0},a.createElement("div",{style:l,className:`${h}-content`},v&&a.createElement("span",{className:`${h}-content-prefix`},v),d?d(N):N,g&&a.createElement("span",{className:`${h}-content-suffix`},g)))))}),Ue=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Ke(e,t){let o=e;const n=/\[[^\]]*]/g,r=(t.match(n)||[]).map(c=>c.slice(1,-1)),s=t.replace(n,"[]"),l=Ue.reduce((c,[d,v])=>{if(c.includes(d)){const g=Math.floor(o/v);return o-=g*v,c.replace(new RegExp(`${d}+`,"g"),p=>{const m=p.length;return g.toString().padStart(m,"0")})}return c},s);let i=0;return l.replace(n,()=>{const c=r[i];return i+=1,c})}function Qe(e,t,o){const{format:n=""}=t,r=new Date(e).getTime(),s=Date.now(),l=Math.max(o?r-s:s-r,0);return Ke(l,n)}var Ye=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};function Je(e){return new Date(e).getTime()}const ne=e=>{const{value:t,format:o="HH:mm:ss",onChange:n,onFinish:r,type:s}=e,l=Ye(e,["value","format","onChange","onFinish","type"]),i=s==="countdown",[c,d]=a.useState(null),v=he(()=>{const m=Date.now(),u=Je(t);d({});const x=i?u-m:m-u;return n==null||n(x),i&&u<m?(r==null||r(),!1):!0});a.useEffect(()=>{let m;const u=()=>W.cancel(m),x=()=>{m=W(()=>{v()&&x()})};return x(),u},[t,i]),a.useEffect(()=>{d({})},[]);const g=(m,u)=>c?Qe(m,Object.assign(Object.assign({},u),{format:o}),i):"-",p=m=>Se(m,{title:void 0});return a.createElement(C,Object.assign({},l,{value:t,valueRender:p,formatter:g}))},Ze=e=>a.createElement(ne,Object.assign({},e,{type:"countdown"})),et=a.memo(Ze);C.Timer=ne;C.Countdown=et;var tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"},nt=function(t,o){return a.createElement(Y,J({},t,{ref:o,icon:tt}))},ot=a.forwardRef(nt),rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"},at=function(t,o){return a.createElement(Y,J({},t,{ref:o,icon:rt}))},st=a.forwardRef(at);const ut=()=>{const{data:e,isLoading:t,error:o}=Oe({queryKey:["dashboardStats"],queryFn:Re.getStats,refetchInterval:3e4});return t?f.jsx("div",{style:{textAlign:"center",marginTop:50},children:f.jsx(Ne,{size:"large"})}):o?f.jsx(te,{message:"Error",description:"대시보드 데이터를 불러오는데 실패했습니다.",type:"error",showIcon:!0}):f.jsxs("div",{children:[f.jsxs("h2",{style:{marginBottom:"20px"},children:["대시보드 (",e==null?void 0:e.date,")"]}),f.jsxs(Pe,{gutter:16,children:[f.jsx(z,{span:6,children:f.jsxs(P,{bordered:!1,children:[f.jsx(C,{title:"오늘 예산",value:e==null?void 0:e.totalBudget,prefix:f.jsx(be,{}),suffix:"P",valueStyle:{color:"#3f8600"}}),f.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#888"},children:["사용됨: ",e==null?void 0:e.usedBudget.toLocaleString()," P (",Math.round(((e==null?void 0:e.usedBudget)||0)/((e==null?void 0:e.totalBudget)||1)*100),"%)"]})]})}),f.jsx(z,{span:6,children:f.jsx(P,{bordered:!1,children:f.jsx(C,{title:"오늘 참여자",value:e==null?void 0:e.participantCount,prefix:f.jsx($e,{}),valueStyle:{color:"#cf1322"}})})}),f.jsx(z,{span:6,children:f.jsx(P,{bordered:!1,children:f.jsx(C,{title:"지급된 총 포인트",value:e==null?void 0:e.totalPointsDistributed,prefix:f.jsx(ot,{}),suffix:"P",valueStyle:{color:"#1890ff"}})})}),f.jsx(z,{span:6,children:f.jsx(P,{bordered:!1,children:f.jsx(C,{title:"잔여 예산",value:e==null?void 0:e.remainingBudget,prefix:f.jsx(st,{}),suffix:"P",valueStyle:{color:"#C8FF00",textShadow:"0 0 2px rgba(0,0,0,0.5)"}})})})]}),f.jsx("div",{style:{marginTop:"30px"}})]})};export{ut as default};
