# AI 페어 프로그래밍 

## 📑 목차

- [📋 개요](#-개요)
- [1️⃣ 설계 (Design)](#1️⃣-설계-design)
- [2️⃣ 문제 고민과 해결 (Problem Solving)](#2️⃣-문제-고민과-해결-problem-solving)
- [3️⃣ 생산성 향상 (Productivity Enhancement)](#3️⃣-생산성-향상-productivity-enhancement)
- [📊 종합 효과](#-종합-효과)
- [💡 AI 활용 전략 및 인사이트](#-ai-활용-전략-및-인사이트)

---

## 📋 개요

본 프로젝트는 AI를 적극 활용하여 포인트 룰렛 서비스를 풀스택으로 구현한 과제입니다. 개발 과정에서 다양한 AI 도구를 활용하여 설계, 문제 해결, 생산성 향상을 이루었으며, **본 문서를 포함한 모든 문서화 작업에도 AI를 적극 활용**했습니다. 본 문서는 그 과정을 세 가지 관점에서 정리합니다.

### 사용한 AI 도구
- **백엔드**: Claude (서브 에이전트 활용)
- **프론트엔드 & 어드민**: Google Antigravity
- **모바일**: Codex
- **로고 디자인**: Gemini NanoBanana
- **문서화**: Claude (README, API 명세, 프롬프트 정리)

---

## 1️⃣ 설계 (Design)

AI를 활용하여 프로젝트 전체 구조 설계, 기술 스택 선정, 아키텍처 설계를 진행했습니다.

### 1.1 프로젝트 초기 설계

**프롬프트:**
> 이 과제를 시작해야하는데, 어떤 업무 순서대로, 어떤 IDE로, 어떤 프레임워크나 언어를 사용해야 하는지 투두 형식으로 정리해줘. 나는 코틀린 + 스프링 부트 경험만 있고, 플러터나 리액트는 경험이 없어서 AI를 적극 활용해서 개발할거야. 가이드라인도 함께 제공해줘.

**효과:**
- 전체 프로젝트 업무 순서와 우선순위 파악
- 미경험 기술 스택에 대한 학습 로드맵 확보
- 개발 가이드라인 정립

---

### 1.2 백엔드 도메인 설계

**프롬프트:**
> 백엔드를 먼저 진행할거야. 어떠한 도메인 엔티티가 필요할지 생각한 뒤 서비스 구현을 위해 어떠한 API가 필요할 지 도메인 별로 @point-roulette-guide.md 파일에 정리해줘.

**효과:**
- 필요한 API 엔드포인트 사전 정의
- 체계적인 백엔드 구조 확립

---

### 1.3 프론트엔드 & 어드민 설계

**프롬프트 (어드민):**
> 현재 나는 @assignment.md 파일에 있는 과제를 수행 중이야. 니가 해줘야 할 일은 어드민 페이지를 만들어주는 일이고, 너는 현재 5년차 실력있는 프론트엔드 엔지니어야. 먼저 어떤 업무를 수행해야 할 지 미리 투 두 리스트로 정리해서 나와 함께 개발하자.

**프롬프트 (프론트엔드):**
> 현재 나는 @assignment.md 파일에 있는 과제를 수행 중이야. 니가 해줘야 할 일은 프론트엔드 (사용자 용) 페이지를 만들어주는 일이고, 너는 현재 5년차 실력있는 프론트엔드 엔지니어야. @point-roulette-guide.md 에 투 두 리스트를 일차적으로 정리해뒀고, 백엔드 API 명세는 @API.md 에 정리되어 있어. 패키지는 frontend 하위에 만들어주면 돼. 먼저 어떤 것 부터 처리해야 할 지 정리해줘. 개발은 당장 진행하지 말고.

**효과:**
- 페르소나 부여를 통한 전문가 수준의 설계
- 작업 우선순위 및 의존성 파악
- 체계적인 프론트엔드 개발 계획 수립

---

### 1.4 모바일 WebView 설계

**프롬프트:**
> 현재 나는 @assignment.md 파일에 있는 과제를 수행 중이야. 니가 해줘야 할 일은 모바일 WebView 를 만들어주는 일이고, 너는 현재 5년차 실력있는 엔지니어야. @point-roulette-guide.md 에 투 두 리스트를 일차적으로 정리해뒀고, 백엔드 API 명세는 @API.md 에 정리되어 있어. 패키지는 mobile 하위에 만들어주면 돼. 먼저 어떤 것 부터 처리해야 할 지 정리해줘. 개발은 당장 진행하지 말고.

**효과:**
- Flutter 초보자도 체계적 개발 가능
- 필요한 기능 및 설정 사전 파악
- 플랫폼별 고려사항 확인

---

### 1.5 디자인 시스템 설계

**프롬프트:**
> 내가 디자인 시스템은 admin 페이지랑 맞추라고 했는데 아직 안맞춰저있어서, 지금 내가 원하는 디자인은 https://voltup.kr/ 사이트와 유사한 느낌을 원해

**프롬프트:**
> 이런 디자인을 어드민 페이지에서도 공유할 수 있게 프로젝트 상위 패키지에 md 파일로 정리해줘

**효과:**
- VoltUp 사이트의 디자인 무드 통일
- 어드민, 프론트엔드, 모바일 간 일관된 디자인 시스템 구축
- 재사용 가능한 디자인 가이드 문서화

---

### 1.6 기술 스택 의사결정

**프롬프트:**
> 코틀린 + 스프링에서 의존성 관리를 build.gradle로 하는 것과 build.gradle.kts로 관리하는 것의 차이점은?

**프롬프트 (어드민):**
> 1. 아무 프로젝트 없음. 새로 만들어야 함
> 2. 현재 서버는 localhost + 스웨거로 띄워져있어
> 3. 나는 백엔드 개발자라 프론트엔드에 대해서는 잘 몰라. 이 부분은 장단점을 3개 씩 비교한 뒤, 최종 권장안을 코드로 작성해줘

**효과:**
- 데이터 기반 기술 선택
- 장단점 비교를 통한 합리적 의사결정
- 미경험 분야에서도 최적의 기술 스택 선정

---

### 1.7 일일 예산 관리 기술 의사결정

**프롬프트:**
> 너는 지금 백엔드 10년차 시니어 개발자야. 지금 일일 예산을 어떤 방식으로 관리 해야할지에 대해 기술적 의사결정을 하고 있는 상황이야. @assignment.md 에 적혀있는 요구 사항을 참고해서 어떤 방식이 있고, 어떤 장/단점이 있는지 정리해서 알려줘. 실제 개발은 하지마.

**효과:**
- 시니어 개발자 페르소나를 통한 깊이 있는 기술 분석
- 여러 대안의 장단점 비교
- 실무 경험 기반의 의사결정 도출

---

### 1.8 백엔드 ERD 설계

**프롬프트:**
> 요구사항을 파악해서 백엔드 ERD를 설계해줘. DB는 Postgre를 사용할거야.

**효과:**
- 요구사항 기반 데이터 모델링
- PostgreSQL에 최적화된 ERD 설계
- 엔티티 간 관계 정의

---

### 1.9 DailyBudget 관리 전략 분석

**프롬프트:**
> DailyBudget을 어떻게 가져가는게 좋을지 고민이야 배치로 생성하거나, Lazy하게 생성하는 방법도 있을 것 같은데, 여러 방법을 찾아보고 정리해서 알려줘.

**효과:**
- 다양한 생성 전략 비교 (배치 생성 vs Lazy 생성)
- 각 방식의 장단점 분석
- 프로젝트 규모에 맞는 최적 솔루션 선택

---

## 2️⃣ 문제 고민과 해결 (Problem Solving)

개발 과정에서 발생한 다양한 문제를 AI와 함께 분석하고 해결한 사례입니다.

### 2.1 동시성 제어 문제

**프롬프트:**
> 이 동시성 문제를 해결하기 위한 해결책을 제시해줘. 먼저 원인을 분석하고, 가능한 대안 3가지를 장단점과 함께 비교한 뒤, 최종 권장안을 코드로 작성해줘 

**프롬프트 (서브 에이전트 활용 코드 리뷰):**
> 동시성 문제가 발생할 만 한 포인트들을 분석해서 적절히 대응 되어 있는지 서브 에이전트를 통해 코드 리뷰 진행해줘. 그러한 포인트가 있다면, 어떻게 개선하면 좋을지 가이드라인을 제시해줘.


**문제:**
- 룰렛 참여 시 중복 참여 방지
- 일일 예산 초과 방지
- 동시 요청 처리에서의 정합성 보장
- 자정 직후 DailyBudget 생성 시 동시성 이슈

**해결:**
- CoT(Chain of Thought) 전략 사용
- 낙관적 락, 비관적 락, 분산 락 등 대안 비교
- 프로젝트 상황에 최적화된 솔루션 도출
- 서브 에이전트를 통한 코드 리뷰로 잠재적 동시성 이슈 탐지
- Unique 위반 예외 시 재시도 로직 추가

---

### 2.2 도메인 로직 개선

**프롬프트:**
> Tell, Don't Ask 칙을 지키도록 비즈니스 로직을 리팩토링 하고 싶어. 도메인에 대한 검증 로직은 애플리케이션 레이어가 아닌 도메인 자체가 갖도록 리팩토링 해줘.

**문제:**
- 도메인 로직이 서비스 레이어에 분산
- 응집도 낮은 코드 구조

**해결:**
- Tell, Don't Ask 원칙 적용
- 도메인 주도 설계 강화
- 검증 로직의 도메인 내재화

---

### 2.3 엔티티 설계 패턴

**프롬프트:**
> 엔티티의 생성자를 public으로 열어 두는 것과 정적 팩터리 메서드를 사용 하는 것의 장/단점에 대해 알려줘

**프롬프트 (Few Shot):**
> 나는 이런 방식으로 정적 팩터리 메서드를 사용해왔어. 이제 다른 도메인 엔티티도 정적 팩터리 메서드를 사용하도록 리팩토링 해줘.

**문제:**
- 엔티티 생성 방식의 일관성 부재
- 객체 생성 로직의 명확성 필요

**해결:**
- 정적 팩터리 메서드 패턴 도입
- Few Shot 학습으로 일관된 패턴 적용
- 엔티티 생성 의도 명확화

---

### 2.4 상태 관리 및 논리 삭제

**프롬프트:**
> OrderService.removePointIfExists 메서드에서 참여 취소 시, 포인트를 물리적으로 삭제하지 말고 논리 삭제를 하고 싶음. 그리고 주문 생성 시나 내 포인트 내역 조회 시, EARNED 상태의 포인트만 사용할 수 있도록 하고 싶어. 혹시 이렇게 되면 영향을 받을 포인트가 있을지도 함께 살펴봐줘.

**프롬프트:**
> 룰렛 참여 엔티티에 상태 필드를 추가해줘. 관리자 용 룰렛 참여 내역 조회 API에서 이 상태를 보여줄 수 있게 해줘. 이미 취소된 룰렛 참여의 경우는 예외 발생시키게. 작업해서 테스트 코드 작성해주고, @~/Desktop/Code/assignment/API.md 에 변경 내용 반영해줘

**문제:**
- 데이터 삭제로 인한 이력 손실
- 상태 추적의 어려움

**해결:**
- 논리 삭제 패턴 적용
- 상태(Status) 필드 도입
- 영향 범위 분석 및 안전한 마이그레이션

---

### 2.5 프론트엔드 디자인 가독성 문제

**프롬프트:**
> 포인트 색깔이 흰 배경에서는 잘 안보이는 것 같아. 이를 개선할 방법을 정리해서 알려줘 → 2번이 좋을 것 같아

**문제:**
- 라임 그린(#D9FD01) 색상의 낮은 가독성
- 흰 배경과의 명도 대비 부족

**해결:**
- 3가지 대안 제시 (텍스트 색상 변경, 배지 스타일, 어두운 대체 색상)
- 사용자 선택 기반 최적 솔루션 적용
- 디자인 일관성 유지하면서 가독성 개선

---

### 2.6 Flutter iOS 빌드 오류

**프롬프트:**
> Running Xcode build...
Xcode build done.                                           10.6s
Failed to build iOS app
Uncategorized (Xcode): Command CodeSign failed with a nonzero exit code
> Could not build the application for the simulator.
Error launching application on iPhone 16e.
> 문제 분석해줘

**문제:**
- iOS Simulator 빌드 시 CodeSign 오류
- Xcode DerivedData 관련 문제

**해결:**
- 오류 로그 분석을 통한 원인 파악
- 단계별 해결 방안 제시
- 빌드 성공

---

### 2.7 모바일 네트워크 에러 처리

**프롬프트:**
> 너는 시니어 프론트엔드 개발자야. 인터넷 연결 끊김이나 페이지 로딩 실패 시 커스텀 에러 페이지 표시 및 '재시도' 버튼 구현이 필요해. 15초 동안 서버에서 응답이 없는 경우, 네트워크 에러 페이지를 보여주고, 재시도 버튼을 구현해줘.

**문제:**
- 네트워크 불안정 환경에서의 사용자 경험 저하
- 에러 상황에 대한 피드백 부재

**해결:**
- 타임아웃 기반 에러 처리 (15초)
- 커스텀 에러 페이지 구현
- 재시도 버튼으로 사용자 제어권 제공

---

### 2.8 슬롯 머신 애니메이션 구현

**프롬프트:**
> React + TypeScript로 숫자 슬롯 머신 UI를 구현해줘.
> [시나리오]
> - 서버 API에서 100~1000 사이의 정수 targetNumber를 받는다.
> - 화면에는 세 자리 숫자 슬롯(백/십/일)이 각각 독립적으로 회전한다.
> - 애니메이션 종료 시 반드시 targetNumber와 정확히 일치해야 한다.
>
> [애니메이션 규칙]
> 1. 모든 자릿수는 처음에 빠르게 회전 시작
> 2. 일의 자리 → 십의 자리 → 백의 자리 순서로 멈춘다
> 3. 각 자릿수는 0~9 숫자가 세로로 순환되며 굴러가는 느낌
> 4. 멈출 때는 ease-out으로 감속
> 5. 멈추는 순간 정확히 targetNumber의 해당 자릿수 값에 위치

**문제:**
- 기존 룰렛 UI를 슬롯 머신으로 변경
- 서버 응답값과 정확히 일치하는 애니메이션 구현
- 자연스러운 감속 효과 필요

**해결:**
- 자릿수별 독립적 애니메이션
- 순차적 정지 로직 구현
- CSS keyframes와 ease-out 활용

---

## 3️⃣ 생산성 향상 (Productivity Enhancement)

AI를 활용하여 반복 작업 자동화, 코드 품질 향상, 문서화 작업을 효율화한 사례입니다.

### 3.1 페어 프로그래밍 방식 도입

**프롬프트:**
> 너는 나와 함께 페어 프로그래밍을 진행하는 동료 개발자야. @assignment.md 에 있는 과제를 이제 수행할거야. @point-roulette-guide.md 파일에 자세한 투두 리스트를 정리해뒀고, 먼저 백엔드 개발부터 진행할거야. 어떤 작업부터 처리하면 될 지 확인해보고 같이 작업 진행하자. 먼저 개발하지 말고, 개발할 내용을 정리해서 나와 함께 확인한 뒤 작업을 진행해.

**효과:**
- AI를 동료 개발자로 활용
- 실시간 피드백 및 코드 리뷰
- 개발 속도 향상

---

### 3.2 자동화된 코드 리뷰

**프롬프트:**
> @assignment.md 에 요구사항이 작성되어 있으니 이를 참고해서 서브 에이전트를 통해 코드 리뷰 진행해줘. 개선이 필요한 내용은 당장 작업하지 말고 내게 정리해서 알려줘.

**프롬프트:**
> 너는 10년차 프론트엔드 개발자야. 지금은 개발한 내용들에 대해 코드 리뷰를 진행한 뒤 리드미를 작성해야 해. @file:assignment.md 파일을 참고해서 필요한 내용 위주로 코드 리뷰 및 리드미에 필요한 내용 정리 부탁해.

**효과:**
- 서브 에이전트를 통한 체계적 코드 리뷰
- 요구사항 준수 여부 자동 검증
- 개선 사항 정리 및 우선순위화

---

### 3.3 API 문서 자동 생성 및 업데이트

**프롬프트:**
> 클라이언트가 참고할 수 있게 @../ 에 전체 API 명세서 작성해줘

**프롬프트:**
> @API.md 파일 내에 "내 포인트 내역 조회" API에 변동사항이 생겼어. 포인트 상태 별 필터링 기능이 추가 되었으니 이를 반영해줘.

**효과:**
- API 문서 자동 생성
- 변경 사항 실시간 반영
- 프론트엔드-백엔드 간 커뮤니케이션 비용 감소

---

### 3.4 테스트 코드 자동 생성

**프롬프트:**
> 모두 권장 내용으로 처리해주고, 선택된 정책들에 대해 커버할 수 있는 테스트 코드도 작성해줘.

**효과:**
- 비즈니스 로직 변경 시 자동 테스트 코드 생성
- 엣지 케이스 커버리지 향상
- 리그레션 방지

---

### 3.5 코드 포맷팅 자동화

**프롬프트:**
> 린트 같은 코드 포맷팅을 자동화할 수 있는 방법이 있는걸로 아는데 어떤 방식이 있는지 알려줘!

**효과:**
- ktlint, Spotless 등 코틀린 포맷터 비교 분석
- Git Hooks, IDE 연동, CI/CD 연동 등 자동화 방법 학습
- 팀 컨벤션 통일을 위한 설정 방법 확보

---

### 3.6 배포 설정 자동화

**프롬프트:**
> render로 배포하려고 하는데, 필요한 파일이 어떤것이 있는지 정리해줘

**효과:**
- 배포 환경별 필요 파일 자동 정리
- 설정 파일 템플릿 제공
- 배포 시행착오 최소화

---

### 3.6 일괄 스타일 적용

**프롬프트:**
> 디자인 무드가 맞게 전체적으로 라임색 배경 위에 검정 글씨로 다 바꾸자

**프롬프트:**
> 디자인은 @admin 패키지에 있는 코드를 참고해서 진행해줘.

**효과:**
- 디자인 시스템 일괄 적용
- 스타일 통일성 확보
- 수작업 시간 단축

---

### 3.7 README 및 문서 자동 작성

**프롬프트:**
> 너는 10년차 프론트엔드 개발자야. 지금은 개발한 패키지들에 대해 코드 리뷰를 진행한 뒤 리드미를 작성해야 해. @file:assignment.md 파일을 참고해서 필요한 내용 위주로 코드 리뷰 및 리드미 작성 부탁해.

**효과:**
- README 자동 생성
- 프로젝트 구조 문서화
- 신규 개발자 온보딩 용이

---

### 3.8 크로스 플랫폼 일괄 적용

**프롬프트:**
> 전체적으로 로고를 통일시키고 싶어. 서비스 룰렛을 이렇게 돌리는게 아니라, 미국 카지노에서 주로 볼 수 있는 777 룰렛 시스템으로 바꿔보려고 하는데, 그거에 맞게 로고 이미지를 만들어주고 내게 보여줘. 이걸 admin, frontend, mobile 모두 적용시킬거야.

**프롬프트:**
> 앱 아이콘이랑 스플래시 화면에 @/Users/minseokkim/Desktop/Code/assignment/frontend/src/assets/logo.png 로고 반영해줘

**효과:**
- 여러 플랫폼에 동일 에셋 일괄 적용
- 브랜딩 일관성 확보
- 수작업 반복 제거

---

### 3.9 .gitignore 설정 검증

**프롬프트:**
> 지금 @.gitignore 로도 불필요한 @frontend 빌드 파일은 깃 추적 안되는 것 맞는지 다시 확실하게 확인해줘

**효과:**
- 자동 설정 검증
- 불필요한 파일 커밋 방지
- 저장소 관리 효율화

---

### 3.10 체크리스트 기반 APK 빌드

**프롬프트:**
> APK 빌드/테스트 단계 체크리스트 정리 진행해줘

**효과:**
- 빌드 프로세스 체크리스트 자동 생성
- 누락 방지
- 릴리즈 준비 시간 단축

---

## 📊 종합 효과

### 정량적 성과
- **개발 기간 단축**: 약 7일 내 풀스택 서비스 완성
- **학습 곡선 완화**: 미경험 기술(React, Flutter) 빠른 습득
- **코드 품질 향상**: 자동 코드 리뷰 및 테스트 커버리지 확보

### 정성적 성과
- **설계 역량**: AI를 통한 다양한 아키텍처 옵션 검토 및 최적 선택
- **문제 해결**: CoT, Few Shot 등 프롬프트 전략으로 복잡한 문제 해결
- **생산성**: 반복 작업 자동화로 핵심 로직에 집중

---

## 💡 AI 활용 전략 및 인사이트

### 효과적이었던 프롬프트 패턴

1. **페르소나 부여**
   - "너는 5년차 프론트엔드 개발자야"
   - 전문가 수준의 응답 유도

2. **CoT (Chain of Thought)**
   - "먼저 원인을 분석하고, 가능한 대안 3가지를 장단점과 함께 비교한 뒤, 최종 권장안을 코드로 작성해줘"
   - 단계적 사고 유도로 품질 높은 솔루션 도출

3. **Few Shot Learning**
   - "나는 이런 방식으로 사용해왔어. 다른 곳도 같은 패턴으로 리팩토링 해줘"
   - 프로젝트 컨벤션 학습 및 적용

4. **파일 참조 (@mentions)**
   - "@assignment.md 파일을 참고해서..."
   - 컨텍스트 정확도 향상

5. **점진적 개선**
   - "먼저 정리해줘. 개발은 당장 진행하지 말고"
   - 계획-실행 분리로 실수 최소화

### 개선점 및 향후 방향

- AI 응답 검증 프로세스 강화
- 프롬프트 템플릿 라이브러리 구축
- AI와의 협업 워크플로우 표준화

---
